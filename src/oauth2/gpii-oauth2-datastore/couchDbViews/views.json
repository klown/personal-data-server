{
    "views": {
        "findUserByName": {
            "map": "function(doc) {if (doc.type === 'user') emit(doc.name, doc)}"
        },
        "findUserByGpiiToken": {
            "map": "function(doc) {if (doc.type === 'user') emit(doc.gpiiToken, doc)}"
        },
        "findClientByOauth2ClientId": {
            "map": "function(doc) {if (doc.type === 'client') emit(doc.oauth2ClientId, doc)}"
        },
        "findAllClients": {
            "map": "function(doc) {if (doc.type === 'client') emit(doc._id, doc)}"
        },
        "findAuthByGpiiToken": {
            "map": "function (doc) {if (doc.type === 'authDecision') {emit(doc.gpiiToken, doc)}}"
        },
        "findAuthDecision": {
            "map": "function (doc) {if (doc.type === 'authDecision') {emit([doc.gpiiToken, doc.clientId, doc.redirectUri], doc)}}"
        },
        "findAuthDecisionByAuthCode": {
            "map": "function (doc) {if (doc.type === 'authCode') {emit(doc.code, {'_id': doc.authDecisionId})}}"
        },
        "findAuthorizedClientsByGpiiToken": {
            "map": "function (doc) {if (doc.type === 'authDecision') {emit(doc.gpiiToken, {'_id': doc.clientId})}}"
        },
        "findAuthByAccessToken": {
            "map": "function (doc) {if (doc.type === 'authDecision') {emit(doc.accessToken, doc)}}"
        },
        "findAuthDecisionByGpiiTokenAndClientId": {
            "map": "function (doc) {if (doc.type === 'authDecision') {emit([doc.gpiiToken, doc.clientId], doc)}}"
        },
        "findByDecisonIdAndUserId": {
            "map": "function(doc) {if (doc.type === 'authDecision') emit([doc._id, doc.userId], null)}"
        },
        "findAuthClientsByDecisionId": {
            "map": "function(doc) {if (doc.type === 'authDecision') {emit(doc._id, {'_id': doc.clientId});}}"
        }
    }
}
